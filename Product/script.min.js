import{BasketStorage}from"./basketStorage.js";export const products=[{name:"Белый приталенный пиджак",price:7990,type:1,id:1},{name:"Пиджак TROSHIN DESIGN",price:9521,type:1,id:2},{name:"Брюки TROSHIN DESIGN",price:1235,type:3,id:3},{name:"Белые брюки",price:1920,type:3,id:4},{name:"Рубашка TROSHIN DESIGN",price:1990,type:2,id:5},{name:"Рубашка для высоких",price:6990,type:2,id:6},{name:"Броги TROSHIN DESIGN",price:7120,type:4,id:7},{name:"Туфли TROSHIN DESIGN",price:4120,type:4,id:8}];const basketStorage=new BasketStorage;function stringToBoolean(t){return"true"===t}function renderProduct(t,e){const a=Boolean(basketStorage.findInStorageById(e.id));produtctsHTML+=`<div class="product-content products ${t}"  data-value="${t}" data-category="1">\n                        <img src="../img/img${e.id}.jpg" alt="Изображение" class="product-img">\n                        <h3 class="product-name">${e.name}</h3>\n                        <div class="price">${numberFormat(e.price)}</div>\n                        <a href="products/product${t}.html" class="linkprice"><div class="price-button">Подробнее...</div></a>\n                        <div class="baskets-button ${a?"baskets-active":""}" data-id="${e.id}" data-is-in-basket="${a}">${a?"В корзине":"Добавить в корзину"}</div>\n                      </div>`}const catalogContainer=document.querySelector('[data-type="catalog"]'),chooseContainer=document.querySelector('[data-type="choose"]');let basketsButton=document.getElementsByClassName("baskets-button"),produtctsHTML="",basketsHTML="";function findProductById(t){return products.find(e=>e.id==t)}function numberFormat(t){return new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB"}).format(t)}products.forEach((t,e)=>{console.log(t),renderProduct(e+=1,t)}),catalogContainer.innerHTML=produtctsHTML,chooseContainer.addEventListener("click",t=>{t.preventDefault();const e=t.target.getAttribute("value");e&&(produtctsHTML="",catalogContainer.innerHTML=produtctsHTML,products.forEach((t,a)=>{+e&&t.type!==+e||renderProduct(a+=1,t)}),catalogContainer.innerHTML=produtctsHTML)}),catalogContainer.addEventListener("click",t=>{const e=t.target,a=e.getAttribute("data-id");a&&(stringToBoolean(e.getAttribute("data-is-in-basket"))||(basketStorage.setItem(findProductById(a)),e.classList.add("baskets-active"),e.textContent="В корзине",e.setAttribute("data-is-in-basket",!0)))});